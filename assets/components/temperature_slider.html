<div id="plotly-chart-{ID}" style="width: 100%; max-width: 800px; margin: 2rem auto;"></div>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
(function() {
    // Temperature data
    var trace1 = {
        x: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
        y: [10, 12, 15, 18, 22, 25, 28, 27, 24, 19, 14, 11],
        type: 'scatter',
        mode: 'lines+markers',
        name: 'Temperature (°C)',
        line: {
            color: 'rgb(255, 127, 14)',
            width: 3
        },
        marker: {
            size: 8
        }
    };

    var data = [trace1];

    var layout = {
        title: 'Average Monthly Temperature',
        xaxis: {
            title: 'Month',
            tickmode: 'array',
            tickvals: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
            ticktext: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        },
        yaxis: {
            title: 'Temperature (°C)'
        },
        margin: {
            l: 60,
            r: 30,
            t: 60,
            b: 60
        },
        paper_bgcolor: 'var(--bg-secondary)',
        plot_bgcolor: 'var(--bg-primary)',
        font: {
            color: 'var(--text-primary)',
            family: 'var(--font-family)'
        }
    };

    var config = {
        responsive: true,
        displayModeBar: true,
        displaylogo: false
    };

    Plotly.newPlot('plotly-chart-{ID}', data, layout, config);

    // Optional: Update on theme change
    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.attributeName === 'data-theme') {
                Plotly.relayout('plotly-chart-{ID}', {
                    paper_bgcolor: 'var(--bg-secondary)',
                    plot_bgcolor: 'var(--bg-primary)',
                    font: { color: 'var(--text-primary)' }
                });
            }
        });
    });
    
    observer.observe(document.documentElement, {
        attributes: true
    });
})();
</script>
